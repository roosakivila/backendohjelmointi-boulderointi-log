<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title th:attr="text=#{page.title.signup}">Sign up</title>
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" />
</head>

<body style="margin:20px;">
    <h1 th:text="#{page.title.createaccount}">Create account</h1>

    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <form th:action="@{/signup}" method="post" th:object="${user}">
        <div class="mb-3">
            <label class="form-label" th:text="#{form.label.username}">Username</label>
            <input class="form-control" type="text" th:field="*{username}"
                th:class="${#fields.hasErrors('username')} ? 'form-control is-invalid' : 'form-control'" />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('username')}">
                <span th:errors="*{username}">Username errors</span>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label" th:text="#{form.label.password}">Password</label>
            <input class="form-control" type="password" th:field="*{passwordHash}"
                th:class="${#fields.hasErrors('passwordHash')} ? 'form-control is-invalid' : 'form-control'" />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('passwordHash')}">
                <span th:errors="*{passwordHash}">Password errors</span>
            </div>
        </div>

        <button class="btn btn-primary" type="submit" th:text="#{button.signup}">Sign up</button>
        <a class="btn btn-link" href="/login" th:text="#{message.haveaccount}">Have an account? Sign in</a>
    </form>
</body>

</html>